<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>My Orders - Shanthi Farms</title>
    <link rel="stylesheet" href="/static/style.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <style>
        body { background: #f7fafc; font-family: 'Inter', 'Segoe UI', Arial, sans-serif; }
        .container { max-width: 600px; margin: 40px auto; background: #fff; border-radius: 16px; box-shadow: 0 4px 24px #0002; padding: 32px 24px; }
        h3 { color: #233a7d; margin-bottom: 24px; text-align: center; font-size: 2em; font-weight: 700; }
        .section-title { color: #3466d3; font-size: 1.25em; font-weight: 700; margin: 32px 0 16px 0; }
        .card { background: #f1f5fb; border-radius: 12px; box-shadow: 0 1px 6px #0001; padding: 20px 18px; margin-bottom: 18px; }
        .orders-table { width: 100%; border-collapse: collapse; margin-top: 8px; }
        .orders-table th, .orders-table td { padding: 10px 8px; border-bottom: 1px solid #e0e7ef; text-align: left; }
        .orders-table th { background: #f1f5fb; color: #233a7d; font-weight: 600; }
        .order-status { padding: 4px 10px; border-radius: 8px; font-size: 0.98em; font-weight: 600; }
        .pending { background: #e6f9f0; color: #25D366; border: 1px solid #25D366; }
        .delivered { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        .skipped { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        .actions { margin-top: 24px; text-align: center; }
        .nav-link { color: #3466d3; font-weight: 600; text-decoration: none; margin-left: 18px; border-radius: 8px; padding: 7px 16px; background: #e6f0ff; transition: background 0.2s; }
        .nav-link:hover { color: #233a7d; background: #d0e2ff; text-decoration: underline; }
        .footer { text-align: center; color: #888; margin-top: 32px; font-size: 0.98em; }
        @media (max-width: 700px) {
            .container { max-width: 100vw; margin: 0; border-radius: 0; box-shadow: none; padding: 16px 6px; }
        }
    </style>
</head>
<body>
<div class="container">
    <h3>My Orders</h3>
    <div class="section-title">Order History:</div>
    <div class="card">
        <div th:if="${orders.size()}==0" style="text-align:center; color:#888;">No orders found</div>
        <div th:if="${orders.size()} > 0">
            <table class="orders-table">
                <thead>
                    <tr>
                        <th>Order Date</th>
                        <th>Plan Start</th>
                        <th>Duration</th>
                        <th>Liters/Day</th>
                        <th>Total Liters</th>
                        <th>Payment</th>
                        <th>Status</th>
                        <th>Order ID</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="o : ${orders}">
                        <td th:text="${o.orderDate}"></td>
                        <td th:text="${o.plan.startDate}"></td>
                        <td th:text="${o.plan.days}"></td>
                        <td th:text="${o.plan.litersPerDay}"></td>
                        <td th:text="${o.plan.days * o.plan.litersPerDay}"></td>
                        <td th:text="${o.paymentStatus}"></td>
                        <td><span th:classappend="${o.status=='CONFIRMED'}? 'order-status pending' : (${o.status=='DELIVERED'}? 'order-status delivered' : 'order-status skipped')" th:text="${o.status}"></span></td>
                        <td th:text="${o.id}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="actions"><a href="/home" class="nav-link">Back</a> <a href="/account" class="nav-link">Account</a></div>
    <div class="footer">Â© 2025 Shanthi Farms</div>
</div>
</body>
</html>
