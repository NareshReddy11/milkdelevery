<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>Select Delivery Address</title>
    <link rel="stylesheet" href="/style.css"/>
    <style>
        .card { background: #fff; border-radius: 12px; padding: 32px 24px; box-shadow: 0 2px 8px #0001; max-width: 340px; margin: 0 auto; }
        .input { width: 100%; padding: 12px; font-size: 1em; border-radius: 8px; border: 1px solid #ddd; margin-bottom: 18px; }
        .button { width: 100%; background: #3466d3; color: #fff; font-size: 1.1em; border: none; border-radius: 8px; padding: 12px; cursor: pointer; margin-bottom: 12px; }
        .center { text-align: center; }
    </style>
</head>
<body>
<div class="container" style="max-width:420px; margin:48px auto;">
    <div class="card center">
        <h2>Select Delivery Address</h2>
        <div th:if="${addresses.size()} == 0" style="margin-bottom:12px;">
            No addresses found. Please add one in your account.<br/>
        </div>
        <form method="post" action="/select-address" th:if="${addresses.size()} > 0">
            <input type="hidden" name="orderId" th:value="${orderId}" />
            <div th:each="addr : ${addresses}" style="margin-bottom:10px;">
                <label>
                    <input type="radio" name="addressId" th:value="${addr.id}" th:checked="${addr.isDefault}" required />
                    <b th:text="${addr.label}"></b> <span th:text="${addr.address}"></span>
                </label>
            </div>
            <button class="button" type="submit">Use Selected Address</button>
        </form>
        <a class="button" th:href="@{/add-address(orderId=${orderId})}" style="margin-top:12px;">Add Address</a>
        <div style="margin-top:18px;">
            <a href="/orders">Back to Orders</a>
        </div>
    </div>
</div>
</body>
</html>
